<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>抽奖信息一览</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://unpkg.com/vue@next"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</head>
<body>
<div id="app">
    <div class="container">
        <h2 class="text-success text-center">恭喜以下中奖的幸运用户</h2>
        <table class="table">
        <thead>
        <tr>
            <th scope="col">#</th>
            <th scope="col">幸运用户</th>
            <th scope="col">奖品名称</th>
            <th scope="col">中奖日期</th>
            <th scope="col">奖品状态</th>
            <th scope="col">备注</th>
        </tr>
        </thead>
        <tbody>
        <tr v-for="(row ,index) in jsonData">
            <th scope="row">{{index+1}}</th>
            <td>{{row.biliName}}</td>
            <td>{{row.prizeName}}</td>
            <td>{{row.createTime.slice(0,10)}}</td>
            <td>{{row.raffleStatus}}</td>
            <td>{{row.remark}}</td>
        </tr>
        </tbody>
    </table>
    </div>
</div>
<script>
    const myApp={
        data(){
            return {
                jsonData: []
            }
        },
        created(){
            fetch('/api/list?page=1&limit=99')
                .then(function(response) {
                    return response.json();
                })
                .then( resp => {
                    this.jsonData = resp.data
                });
        },

    }
    const app = Vue.createApp(myApp).mount('#app')
</script>
</body>
</html>